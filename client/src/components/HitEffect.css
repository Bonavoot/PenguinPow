.hit-effect {
  pointer-events: none;
}

/* ============================================
   SCREEN FLASH - Vignette style (edges only)
   Center stays clear, thin flash at edges
   ============================================ */
.screen-flash {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  /* Very tight vignette: only the very edge */
  background: radial-gradient(ellipse at center, 
    transparent 0%, 
    transparent 80%, 
    rgba(255, 255, 255, 0.3) 88%, 
    rgba(255, 255, 255, 0.8) 100%);
  pointer-events: none;
  z-index: 9999;
  opacity: 0;
}

.screen-flash.slap-flash {
  animation: vignetteFlashQuick 0.08s ease-out forwards;
}

.screen-flash.charged-flash {
  animation: vignetteFlashHeavy 0.12s ease-out forwards;
}

@keyframes vignetteFlashQuick {
  0% { opacity: 0.6; }
  100% { opacity: 0; }
}

@keyframes vignetteFlashHeavy {
  0% { opacity: 0.8; }
  100% { opacity: 0; }
}

/* ============================================
   SHARED BASE STYLES
   ============================================ */

/* Radial speed lines container */
.hit-speed-lines {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 12;
}

.hit-speed-line {
  position: absolute;
  top: 50%;
  left: 50%;
  border-radius: 1px;
  opacity: 0;
}

/* Secondary shockwave ring - hidden by default */
.hit-shockwave-secondary {
  position: absolute;
  top: 50%;
  left: 50%;
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;
  pointer-events: none;
}

/* Spark particles container */
.spark-particles {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 15;
}

.hit-ring-wrapper .spark {
  position: absolute;
  top: 50%;
  left: 50%;
  width: clamp(5px, 0.55vw, 9px);
  height: clamp(5px, 0.55vw, 9px);
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.95) 20%, rgba(255, 200, 80, 0.9) 100%);
  opacity: 0;
}

/* Debris particles container */
.hit-particles {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.hit-ring-wrapper .particle {
  position: absolute;
  top: 50%;
  left: 50%;
  width: clamp(3px, 0.35vw, 6px);
  height: clamp(3px, 0.35vw, 6px);
  border-radius: 50%;
  background: radial-gradient(circle, #FFB74D 30%, rgba(255, 120, 50, 0.85) 100%);
  opacity: 0;
  box-shadow: 0 0 3px rgba(255, 140, 60, 0.7);
}

/* ============================================
   SLAP ATTACK - Quick, snappy impact burst
   Clean smack with radiating speed lines
   ============================================ */

/* Tier 2 (SMALL) size - same as before */
.hit-ring-wrapper.slap-hit {
  position: relative;
  width: clamp(1.9rem, 4.8vw, 3.75rem);
  height: clamp(1.9rem, 4.8vw, 3.75rem);
  --slap-ring-tilt: 55deg;
}

/* Squash oval - brief flat-impact shape suggesting a slap */
.slap-hit::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 120%;
  height: 45%;
  background: radial-gradient(ellipse,
    rgba(255, 255, 255, 0.6) 0%,
    rgba(255, 220, 100, 0.4) 50%,
    transparent 75%);
  border-radius: 50%;
  transform: translate(-50%, -50%) scaleX(0.2) scaleY(0.9);
  animation: slapSquash 0.16s ease-out forwards;
  pointer-events: none;
  z-index: 11;
}

.slap-hit::after {
  content: none;
}

/* Core flash area */
.slap-hit .hit-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  transform: translate(-50%, -50%);
}

/* Core flash - bright white center fading to red-orange-yellow */
.slap-hit .hit-ring::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 80%;
  height: 80%;
  background: radial-gradient(circle,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 235, 120, 0.95) 25%,
    rgba(255, 160, 50, 0.7) 55%,
    transparent 100%);
  border-radius: 50%;
  transform: translate(-50%, -50%) rotateY(var(--slap-ring-tilt-signed, var(--slap-ring-tilt))) scale(0);
  animation: slapCoreFlash 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.slap-hit .hit-ring::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  border: 2.5px solid rgba(255, 165, 65, 0.9);
  box-shadow: 0 0 6px rgba(255, 150, 55, 0.45), 0 0 12px rgba(255, 95, 40, 0.18);
  border-radius: 50%;
  transform: translate(-50%, -50%) rotateY(var(--slap-ring-tilt-signed, var(--slap-ring-tilt))) scale(0.15);
  animation: slapRingExpand 0.24s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Slap secondary shockwave - hidden */
.slap-hit .hit-shockwave-secondary {
  display: none;
}

/* --- Slap Speed Lines --- */
.slap-hit .hit-speed-line {
  width: clamp(1.5px, 0.15vw, 2.5px);
  height: clamp(8px, 1.2vw, 14px);
  background: linear-gradient(to top,
    transparent 0%,
    rgba(255, 180, 60, 0.9) 35%,
    rgba(255, 255, 255, 0.95) 100%);
  animation: slapSpeedLine 0.22s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.slap-hit .hit-speed-line:nth-child(1) { --angle: -18deg; animation-delay: 0s; }
.slap-hit .hit-speed-line:nth-child(2) { --angle: 54deg; animation-delay: 0.015s; }
.slap-hit .hit-speed-line:nth-child(3) { --angle: 138deg; animation-delay: 0.008s; }
.slap-hit .hit-speed-line:nth-child(4) { --angle: 210deg; animation-delay: 0.022s; }
.slap-hit .hit-speed-line:nth-child(5) { --angle: 290deg; animation-delay: 0.012s; }

/* --- Slap Sparks --- */
.slap-hit .spark {
  animation: sparkBurst 0.24s ease-out forwards;
  box-shadow: 0 0 4px rgba(255, 180, 60, 0.8), 0 0 8px rgba(255, 100, 40, 0.5);
}

.slap-hit .spark:nth-child(1) { --tx: 2.5vw; --ty: -2vw; }
.slap-hit .spark:nth-child(2) { --tx: -2.5vw; --ty: -1.5vw; animation-delay: 0.025s; }
.slap-hit .spark:nth-child(3) { --tx: 2vw; --ty: 2.5vw; animation-delay: 0.015s; }
.slap-hit .spark:nth-child(4) { --tx: -2vw; --ty: 2vw; animation-delay: 0.035s; }
.slap-hit .spark:nth-child(5) { --tx: 3vw; --ty: 0.3vw; animation-delay: 0.01s; }
.slap-hit .spark:nth-child(6) { --tx: -3vw; --ty: -0.3vw; animation-delay: 0.025s; }

/* --- Slap Particles --- */
.slap-hit .particle:nth-child(1) { animation: particleBurst 0.26s ease-out forwards; --px: -2vw; --py: -2.2vw; }
.slap-hit .particle:nth-child(2) { animation: particleBurst 0.26s ease-out 0.025s forwards; --px: 2.2vw; --py: -1.5vw; }
.slap-hit .particle:nth-child(3) { animation: particleBurst 0.26s ease-out 0.015s forwards; --px: -1.5vw; --py: 2vw; }
.slap-hit .particle:nth-child(4) { animation: particleBurst 0.26s ease-out 0.035s forwards; --px: 1.8vw; --py: 2.2vw; }

/* ============================================
   SLAP KEYFRAMES
   ============================================ */

@keyframes slapCoreFlash {
  0% {
    transform: translate(-50%, -50%) rotateY(var(--slap-ring-tilt-signed, var(--slap-ring-tilt))) scale(0);
    opacity: 1;
  }
  40% {
    transform: translate(-50%, -50%) rotateY(var(--slap-ring-tilt-signed, var(--slap-ring-tilt))) scale(1.35);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) rotateY(var(--slap-ring-tilt-signed, var(--slap-ring-tilt))) scale(0.85);
    opacity: 0;
  }
}

@keyframes slapRingExpand {
  0% {
    transform: translate(-50%, -50%) rotateY(var(--slap-ring-tilt-signed, var(--slap-ring-tilt))) scale(0.15);
    opacity: 1;
    border-width: 3px;
  }
  45% {
    opacity: 0.85;
    border-width: 2px;
  }
  100% {
    transform: translate(-50%, -50%) rotateY(var(--slap-ring-tilt-signed, var(--slap-ring-tilt))) scale(1.8);
    opacity: 0;
    border-width: 0.5px;
  }
}

@keyframes slapSquash {
  0% {
    transform: translate(-50%, -50%) scaleX(0.2) scaleY(0.9);
    opacity: 0.85;
  }
  40% {
    transform: translate(-50%, -50%) scaleX(1.4) scaleY(0.5);
    opacity: 0.6;
  }
  100% {
    transform: translate(-50%, -50%) scaleX(1.6) scaleY(0.25);
    opacity: 0;
  }
}

@keyframes slapSpeedLine {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) rotate(var(--angle)) translateY(-0.5vw) scaleY(0.4);
  }
  35% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--angle)) translateY(-2.4vw) scaleY(1.1);
  }
}

/* ============================================
   CHARGED ATTACK - Heavy dramatic shockwave
   Powerful impact with dual rings, impact cross,
   8 speed lines, and heavy particle burst
   ============================================ */

/* Tier 1 (LARGE) size - same as punish/grab break/perfect parry */
.hit-ring-wrapper.charged-hit {
  position: relative;
  width: clamp(2rem, 5vw, 4rem);
  height: clamp(2rem, 5vw, 4rem);
  /* Faux-3D: recede toward background by compressing width */
  --charged-ring-tilt: 55deg;
}

/* Impact cross - dramatic cross-shaped energy burst */
.charged-hit::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 130%;
  height: 130%;
  background:
    linear-gradient(0deg,
      transparent 42%,
      rgba(255, 255, 255, 0.55) 47%,
      rgba(255, 255, 255, 0.55) 53%,
      transparent 58%),
    linear-gradient(90deg,
      transparent 42%,
      rgba(255, 255, 255, 0.55) 47%,
      rgba(255, 255, 255, 0.55) 53%,
      transparent 58%);
  transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(0) rotate(0deg);
  animation: chargedImpactCross 0.3s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  pointer-events: none;
  z-index: 11;
}

.charged-hit::after {
  content: none;
}

/* Core flash area */
.charged-hit .hit-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  transform: translate(-50%, -50%);
}

/* Core flash - larger, brighter, with hitlag-style hold at peak */
.charged-hit .hit-ring::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 90%;
  height: 90%;
  background: radial-gradient(circle,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 235, 120, 0.95) 20%,
    rgba(255, 180, 50, 0.8) 45%,
    rgba(255, 100, 40, 0.4) 70%,
    transparent 100%);
  border-radius: 50%;
  transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(0);
  animation: chargedCoreFlash 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Primary expanding ring with glow */
.charged-hit .hit-ring::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  border: 3px solid rgba(255, 160, 50, 0.9);
  box-shadow: 0 0 8px rgba(255, 140, 50, 0.5), 0 0 16px rgba(255, 90, 30, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(0.15);
  animation: chargedRingExpand 0.38s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Secondary shockwave ring - delayed for layered depth */
.charged-hit .hit-shockwave-secondary {
  display: block;
  width: clamp(2rem, 5vw, 4rem);
  height: clamp(2rem, 5vw, 4rem);
  border: 2px solid rgba(255, 180, 60, 0.7);
  box-shadow: 0 0 6px rgba(255, 140, 50, 0.35);
  animation: chargedSecondaryRing 0.42s cubic-bezier(0.22, 1, 0.36, 1) 0.06s forwards;
}

/* --- Charged Speed Lines - thicker, longer, more dramatic --- */
.charged-hit .hit-speed-line {
  width: clamp(2px, 0.2vw, 3.5px);
  height: clamp(10px, 1.6vw, 18px);
  background: linear-gradient(to top,
    transparent 0%,
    rgba(255, 180, 60, 0.95) 30%,
    rgba(255, 255, 255, 1) 100%);
  animation: chargedSpeedLine 0.3s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.charged-hit .hit-speed-line:nth-child(1) { --angle: 0deg; animation-delay: 0s; }
.charged-hit .hit-speed-line:nth-child(2) { --angle: 45deg; animation-delay: 0.015s; }
.charged-hit .hit-speed-line:nth-child(3) { --angle: 90deg; animation-delay: 0.008s; }
.charged-hit .hit-speed-line:nth-child(4) { --angle: 135deg; animation-delay: 0.022s; }
.charged-hit .hit-speed-line:nth-child(5) { --angle: 180deg; animation-delay: 0.01s; }
.charged-hit .hit-speed-line:nth-child(6) { --angle: 225deg; animation-delay: 0.02s; }
.charged-hit .hit-speed-line:nth-child(7) { --angle: 270deg; animation-delay: 0.005s; }
.charged-hit .hit-speed-line:nth-child(8) { --angle: 315deg; animation-delay: 0.018s; }

/* --- Charged Sparks - larger, fly further --- */
.charged-hit .spark {
  width: clamp(6px, 0.65vw, 10px);
  height: clamp(6px, 0.65vw, 10px);
  animation: sparkBurst 0.32s ease-out forwards;
  box-shadow: 0 0 5px rgba(255, 180, 60, 0.85), 0 0 10px rgba(255, 100, 40, 0.5);
}

.charged-hit .spark:nth-child(1) { --tx: 3vw; --ty: -2.5vw; }
.charged-hit .spark:nth-child(2) { --tx: -3vw; --ty: -2vw; animation-delay: 0.02s; }
.charged-hit .spark:nth-child(3) { --tx: 2.5vw; --ty: 3vw; animation-delay: 0.01s; }
.charged-hit .spark:nth-child(4) { --tx: -2.5vw; --ty: 2.5vw; animation-delay: 0.03s; }
.charged-hit .spark:nth-child(5) { --tx: 3.5vw; --ty: 0.5vw; animation-delay: 0.005s; }
.charged-hit .spark:nth-child(6) { --tx: -3.5vw; --ty: -0.5vw; animation-delay: 0.025s; }
.charged-hit .spark:nth-child(7) { --tx: 1vw; --ty: -3.5vw; animation-delay: 0.015s; }
.charged-hit .spark:nth-child(8) { --tx: -1vw; --ty: 3.5vw; animation-delay: 0.035s; }

/* --- Charged Particles - 6 for heavier debris --- */
.charged-hit .particle {
  width: clamp(4px, 0.4vw, 7px);
  height: clamp(4px, 0.4vw, 7px);
}

.charged-hit .particle:nth-child(1) { animation: particleBurst 0.3s ease-out forwards; --px: -2.5vw; --py: -2.5vw; }
.charged-hit .particle:nth-child(2) { animation: particleBurst 0.3s ease-out 0.02s forwards; --px: 2.5vw; --py: -2vw; }
.charged-hit .particle:nth-child(3) { animation: particleBurst 0.3s ease-out 0.01s forwards; --px: -2vw; --py: 2.5vw; }
.charged-hit .particle:nth-child(4) { animation: particleBurst 0.3s ease-out 0.03s forwards; --px: 2.2vw; --py: 2.5vw; }
.charged-hit .particle:nth-child(5) { animation: particleBurst 0.3s ease-out 0.015s forwards; --px: 3vw; --py: 0vw; }
.charged-hit .particle:nth-child(6) { animation: particleBurst 0.3s ease-out 0.025s forwards; --px: -3vw; --py: 0vw; }

/* ============================================
   CHARGED KEYFRAMES
   ============================================ */

/* Core flash with brief "hitlag hold" at peak scale */
@keyframes chargedCoreFlash {
  0% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(0);
    opacity: 1;
  }
  25% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(1.8);
    opacity: 1;
  }
  /* Brief hold simulates hitlag feel */
  45% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(1.6);
    opacity: 0.95;
  }
  100% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(1.2);
    opacity: 0;
  }
}

@keyframes chargedRingExpand {
  0% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(0.15);
    opacity: 1;
    border-width: 4px;
  }
  35% {
    opacity: 0.9;
    border-width: 3px;
  }
  100% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(2.4);
    opacity: 0;
    border-width: 0.5px;
  }
}

@keyframes chargedSecondaryRing {
  0% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(0);
    opacity: 0.75;
    border-width: 3px;
  }
  40% {
    opacity: 0.55;
    border-width: 2px;
  }
  100% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(2.8);
    opacity: 0;
    border-width: 0.5px;
  }
}

@keyframes chargedImpactCross {
  0% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(0.3) rotate(0deg);
    opacity: 0.9;
  }
  30% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(1.2) rotate(12deg);
    opacity: 0.85;
  }
  100% {
    transform: translate(-50%, -50%) rotateY(var(--charged-ring-tilt-signed, var(--charged-ring-tilt))) scale(2) rotate(22deg);
    opacity: 0;
  }
}

@keyframes chargedSpeedLine {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) rotate(var(--angle)) translateY(-0.6vw) scaleY(0.3);
  }
  30% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--angle)) translateY(-3.2vw) scaleY(1.2);
  }
}

/* ============================================
   SHARED KEYFRAMES - Sparks & Particles
   ============================================ */

/* Sparks burst outward with brief stretch at 15% for motion-streak feel */
@keyframes sparkBurst {
  0% {
    opacity: 0.95;
    transform: translate(-50%, -50%) scale(0.7);
  }
  15% {
    opacity: 1;
    transform: translate(calc(-50% + var(--tx) * 0.15), calc(-50% + var(--ty) * 0.15)) scale(1.2);
  }
  50% {
    opacity: 0.85;
    transform: translate(calc(-50% + var(--tx) * 0.55), calc(-50% + var(--ty) * 0.55)) scale(0.9);
  }
  100% {
    opacity: 0;
    transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(0.3);
  }
}

/* Particles scatter as small debris */
@keyframes particleBurst {
  0% {
    opacity: 0.85;
    transform: translate(-50%, -50%) scale(0.5);
  }
  30% {
    opacity: 1;
    transform: translate(calc(-50% + var(--px) * 0.35), calc(-50% + var(--py) * 0.35)) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(calc(-50% + var(--px)), calc(-50% + var(--py))) scale(0.2);
  }
}

/* ============================================
   COUNTER HIT OVERRIDES - Gold/Yellow theme
   Applied when opponent is caught during startup
   ============================================ */

/* --- Counter Slap --- */

/* Counter slap core flash - golden center */
.hit-ring-wrapper.slap-hit.counter-hit .hit-ring::before {
  background: radial-gradient(circle,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 245, 180, 0.95) 25%,
    rgba(255, 220, 100, 0.65) 55%,
    transparent 100%);
}

/* Counter slap ring - golden */
.hit-ring-wrapper.slap-hit.counter-hit .hit-ring::after {
  border-color: rgba(255, 220, 100, 0.9);
}

/* Counter slap squash - warm gold glow */
.hit-ring-wrapper.slap-hit.counter-hit::before {
  background: radial-gradient(ellipse,
    rgba(255, 250, 200, 0.6) 0%,
    rgba(255, 225, 120, 0.3) 50%,
    transparent 75%);
}

/* --- Counter Charged --- */

/* Counter charged core flash - deep golden */
.hit-ring-wrapper.charged-hit.counter-hit .hit-ring::before {
  background: radial-gradient(circle,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 245, 180, 0.95) 20%,
    rgba(255, 220, 100, 0.75) 45%,
    rgba(255, 200, 50, 0.35) 70%,
    transparent 100%);
}

/* Counter charged ring - golden with glow */
.hit-ring-wrapper.charged-hit.counter-hit .hit-ring::after {
  border-color: rgba(255, 220, 100, 0.9);
  box-shadow: 0 0 8px rgba(255, 215, 0, 0.4), 0 0 16px rgba(255, 200, 0, 0.15);
}

/* Counter charged secondary ring - golden */
.charged-hit.counter-hit .hit-shockwave-secondary {
  border-color: rgba(255, 220, 100, 0.65);
  box-shadow: 0 0 6px rgba(255, 215, 0, 0.25);
}

/* Counter charged impact cross - warm gold cross */
.hit-ring-wrapper.charged-hit.counter-hit::before {
  background:
    linear-gradient(0deg,
      transparent 42%,
      rgba(255, 245, 180, 0.55) 47%,
      rgba(255, 245, 180, 0.55) 53%,
      transparent 58%),
    linear-gradient(90deg,
      transparent 42%,
      rgba(255, 245, 180, 0.55) 47%,
      rgba(255, 245, 180, 0.55) 53%,
      transparent 58%);
}

/* --- Counter Speed Lines (both slap & charged) - golden --- */
.slap-hit.counter-hit .hit-speed-line,
.charged-hit.counter-hit .hit-speed-line {
  background: linear-gradient(to top,
    transparent 0%,
    rgba(255, 230, 120, 0.9) 35%,
    rgba(255, 255, 230, 0.95) 100%);
}

/* --- Counter Sparks - golden glow --- */
.slap-hit.counter-hit .spark,
.charged-hit.counter-hit .spark {
  background: radial-gradient(circle, rgba(255, 255, 255, 0.95) 20%, rgba(255, 225, 130, 0.85) 100%);
  box-shadow: 0 0 5px rgba(255, 215, 0, 0.8), 0 0 10px rgba(255, 200, 0, 0.4);
}

/* --- Counter Particles - golden --- */
.counter-hit .particle {
  background: radial-gradient(circle, #FFE066 30%, rgba(255, 200, 50, 0.6) 100%);
  box-shadow: 0 0 4px rgba(255, 215, 0, 0.6);
}

/* ============================================
   PUNISH OVERRIDES - Purple theme
   Applied when hitting opponent during recovery
   ============================================ */

/* --- Punish Slap --- */

/* Punish slap core flash - purple center */
.hit-ring-wrapper.slap-hit.punish-hit .hit-ring::before {
  background: radial-gradient(circle,
    rgba(255, 255, 255, 1) 0%,
    rgba(230, 215, 255, 0.95) 25%,
    rgba(180, 140, 255, 0.7) 55%,
    transparent 100%);
}

/* Punish slap squash - purple glow */
.hit-ring-wrapper.slap-hit.punish-hit::before {
  background: radial-gradient(ellipse,
    rgba(240, 225, 255, 0.6) 0%,
    rgba(180, 140, 255, 0.4) 50%,
    transparent 75%);
}

/* --- Punish Charged --- */

/* Punish charged core flash - deep purple */
.hit-ring-wrapper.charged-hit.punish-hit .hit-ring::before {
  background: radial-gradient(circle,
    rgba(255, 255, 255, 1) 0%,
    rgba(230, 215, 255, 0.95) 20%,
    rgba(180, 140, 255, 0.8) 45%,
    rgba(140, 80, 220, 0.4) 70%,
    transparent 100%);
}

/* Punish charged ring - purple with glow */
.hit-ring-wrapper.charged-hit.punish-hit .hit-ring::after {
  display: block;
  border-color: rgba(180, 140, 255, 0.9);
  box-shadow: 0 0 8px rgba(160, 100, 255, 0.5), 0 0 16px rgba(140, 80, 220, 0.25);
}

/* Punish charged secondary ring - purple */
.charged-hit.punish-hit .hit-shockwave-secondary {
  border-color: rgba(180, 140, 255, 0.7);
  box-shadow: 0 0 6px rgba(160, 100, 255, 0.4);
}

/* Punish charged impact cross - purple cross */
.hit-ring-wrapper.charged-hit.punish-hit::before {
  background:
    linear-gradient(0deg,
      transparent 42%,
      rgba(220, 200, 255, 0.55) 47%,
      rgba(220, 200, 255, 0.55) 53%,
      transparent 58%),
    linear-gradient(90deg,
      transparent 42%,
      rgba(220, 200, 255, 0.55) 47%,
      rgba(220, 200, 255, 0.55) 53%,
      transparent 58%);
}

/* --- Punish Speed Lines (both slap & charged) - purple --- */
.slap-hit.punish-hit .hit-speed-line,
.charged-hit.punish-hit .hit-speed-line {
  background: linear-gradient(to top,
    transparent 0%,
    rgba(190, 160, 255, 0.9) 35%,
    rgba(240, 230, 255, 0.95) 100%);
}

/* --- Punish Sparks - purple glow --- */
.slap-hit.punish-hit .spark,
.charged-hit.punish-hit .spark {
  background: radial-gradient(circle, rgba(255, 255, 255, 0.95) 20%, rgba(200, 170, 255, 0.9) 100%);
  box-shadow: 0 0 5px rgba(180, 140, 255, 0.8), 0 0 10px rgba(140, 80, 220, 0.5);
}

/* --- Punish Particles - purple --- */
.punish-hit .particle {
  background: radial-gradient(circle, #B388FF 30%, rgba(140, 80, 220, 0.7) 100%);
  box-shadow: 0 0 4px rgba(160, 100, 255, 0.7);
}
